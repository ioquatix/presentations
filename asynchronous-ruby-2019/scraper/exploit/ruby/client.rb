#!/usr/bin/env ruby

require 'socket'

peer = TCPSocket.new("localhost", 31337)

peer.write("Hello")
peer.flush
sleep(1)

peer.write(" ")
peer.flush
sleep(1)

peer.write("World")
peer.flush
sleep(1)

$stderr.puts "Finished writing... waiting for response..."
peer.close_write

puts peer.read.dump
